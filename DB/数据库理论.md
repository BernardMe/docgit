

## 集合的运算

集合的加减乘除合并与链接运算是不同的：
连接运算不要求元组的字段一样，而算数运算要求字段一样

```shell
A连接B之后生成的新集合，严格来说，不能用AB的韦恩图表示

笛卡尔积 -> 内连接 -> 外连接 -> 全外连接
这个过程才是正道

外连接其实是 内连接 union 一个NOT EXISTS
```


## 3NF(范式)

### 1NF
即表的列具有原子性，不可再分解。
数据库是关系型数据库，就自动满足1NF

### 2NF
表中的记录是唯一的，就满足2NF，通常我们设计一个主键来实现

### 3NF
- 确保数据表中的每一列数据都和主键直接相关，而不能间接相关
- 属性不依赖于其他非主属性

### 范式的优缺点
- 优点
  + 结构合理
  + 冗余较小
  + 尽量避免插入删除修改异常
- 缺点
  + 性能降低(多表查询比单表查询速度慢)

## 数据库设计准则

一范式就是属性不可分割。
属性是什么？就是表中的字段。不可分割的意思就按字面理解就是最小单位，不能再分成更小单位了。这个字段只能是一个值，不能被拆分成多个字段，否则的话，它就是可分割的，就不符合一范式。不过能不能分割并没有绝对的答案，看需求，也就是看你的设计目标而定。

二范式就是要有主键，要求其他字段都依赖于主键。
`为什么要有主键？没有主键就没有唯一性，没有唯一性在集合中就定位不到这行记录，所以要主键。
其他字段为什么要依赖于主键？因为不依赖于主键，就找不到他们。更重要的是，其他字段组成的这行记录和主键表示的是同一个东西，而主键是唯一的，它们只需要依赖于主键，也就成了唯一的。`

三范式就是要消除传递依赖，方便理解，可以看做是“消除冗余”。消除冗余应该比较好理解一些，就是各种信息只在一个地方存储，不出现在多张表中。


## 关系和表 

就定义来说：关系是元组（即表的记录，或行）的集合 。

此外，关系还有以下特征：
- 关系含有一组属性（即表的字段，或列），含有N个属性的关系可称为N元关系。
- 一个关系的元组含有与关系相同的属性，N元关系的元组都是N元组，一个元组中对应每个属性有一个值。
- 一个属性的域（即字段的数据类型，但域的要求更严格，详见下文“数据类型”），即该属性所有可能的值的集合。



从 这里可以看出关系和表的区别：
`关系作为一种集合，不会包含重复元组；而表则可以包含重复记录。`

这是SQL面对的诸多指责之一，但有其技术合理性。这里的区 别在理解上影响不大，不妨把表理解为“可能（但通常不应该）重复的集合”。

