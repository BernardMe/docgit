
## 透明代理

透明代理(transparent proxy)，看名字就知道这个代理服务器是透明的，透明代理其实也叫做内网代理(inline proxy)、拦截代理(intercepting proxy)以及强制代理(force proxy)。透明代理和正向代理的行为很相似，但细节上有所不同。透明代理将拦截客户端发送的请求，拦截后自己代为访问服务端，获取响应结果后再由透明代理交给客户端。一般公司内的上网行为管理软件就是透明代理。

### 正向代理和透明代理的区别

正向代理和透明代理的区别，细分还有不少，主要有：
1 正向代理时，客户端明确指明请求要交给正向代理服务，也就是要设置代理。而透明代理对客户端是透明的，客户端不知道更不用设置透明代理，但是客户端发出去的请求都会被透明代理拦截
2 正向代理为了实现某些额外的需求，有可能会修改请求报文，但按照RFC文档的要求，透明代理不会修改请求报文
3 正向代理可以内网也可以外网，但透明代理都是内网


## 正向代理与反向代理的区别

### 正向代理

`A同学在大众创业、万众创新的大时代背景下开启他的创业之路，目前他遇到的最大的一个问题就是启动资金，于是他决定去找马云爸爸借钱，可想而知，最后碰一鼻子灰回来了，情急之下，他想到一个办法，找关系开后门，经过一番消息打探，原来A同学的大学老师王老师是马云的同学，于是A同学找到王老师，托王老师帮忙去马云那借500万过来，当然最后事成了。不过马云并不知道这钱是A同学借的，马云是借给王老师的，最后由王老师转交给A同学。这里的王老师在这个过程中扮演了一个非常关键的角色，就是代理，也可以说是正向代理，王老师代替A同学办这件事，这个过程中，真正借钱的人是谁，马云是不知道的，这点非常关键`

我们常说的代理也就是正向代理，正向代理的过程，它隐藏了真实的请求客户端，服务端不知道真实的吊客户端是谁，客户端请求的服务都被代理服务器代替来请求，科学上网工具Shadowsocks扮演的就是经典的正向代理角色。在天朝用浏览器访问www.google.com时会被无情的墙掉，要想翻越这堵墙，你可以在国外用Shadowsocks来搭建一台代理服务器，让代理帮我们去请求www.google.com，代理再把响应结果再返回给我。

### 反向代理

`大家都有过这样的经历，拨打10086 客服电话，一个地区的 10086 客服有几个或者几十个，你永远都不需要关心在电话那头的是哪一个，叫什么，男的，还是女的，漂亮的还是帅气的，你都不关心，你关心的是你的问题能不能得到专业的解答，你只需要拨通了10086 的总机号码，电话那头总会有人会回答你，只是有时慢有时快而已。那么这里的 10086 总机号码就是我们说的反向代理。客户不知道真正提供服务的人是谁`

反向代理隐藏了真实的服务端，当我们访问www.baidu.com的时候，就像拨打10086一样，背后可能有成千上万台服务器为我们服务，但具体是哪一台，你不知道，也不需要知道，你只需要知道反向代理服务器是谁就好了，www.baidu.com就是反向代理服务器，反向代理服务器会帮我们把请求转发到真实提供计算的服务器那里去。Nginx就是性能非常好的反向代理服务器，它可以用来做负载均衡。


>两者的区别在于代理的对象不一样，「正向代理」代理的对象是客户端，「反向代理」代理的对象是服务器


